<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign up Page</title>
    <link href="../src/output.css" rel="stylesheet">
  </head>
  <body class="bg-gray-100">
    <% if (messages.error) { %>
      <script>
        alert('<%= messages.error %>');
      </script>
    <% } else if (messages.success) { %>
      <script>
        alert('<%= messages.success %>');
      </script>
    <% } %> 
    <h1 class="text-3xl font-bold text-center mt-8">Sign up Page</h1>
    <div class="max-w-md mx-auto mt-8 bg-white p-8 rounded-lg shadow-lg">
      <div class="mb-4">
        <label for="userType" class="block">Signup as Candidate</label>
        <input type="checkbox" id="userType" onchange="toggleSignupForm()" class="mt-2">
      </div>
  
      <form action="/recruiters/signup" method="POST" class="recruiterForm" onsubmit="return validateForm()">
        <label for="username" class="block">Username</label>
        <input type="text" name="username" placeholder="Username" required class="w-full border-gray-300 rounded-lg px-4 py-2 mb-2">
        <!-- Add Tailwind CSS classes to the input fields -->
        <label for="email" class="block">Email</label>
        <input type="email" name="email" placeholder="Email" required class="w-full border-gray-300 rounded-lg px-4 py-2 mb-2">
        <label for="password" class="block">Password</label>
        <input type="password" id="password" name="password" placeholder="Password" required class="w-full border-gray-300 rounded-lg px-4 py-2 mb-2">
        <label for="confirmPassword" class="block">Confirm Password</label>
        <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirm Password" required class="w-full border-gray-300 rounded-lg px-4 py-2 mb-2">
        <label for="contact" class="block">Contact</label>
        <input type="text" name="contact" placeholder="Contact" class="w-full border-gray-300 rounded-lg px-4 py-2 mb-2">
        <label for="company" class="block">Company</label>
        <input type="text" name="company" placeholder="Company" class="w-full border-gray-300 rounded-lg px-4 py-2 mb-2">
        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded-lg">Signup</button>
        <a href="/recruiters/login" class="block mt-2 text-blue-500">Already have an account? Login</a>
      </form>
  
      <form action="/candidates/signup" method="POST" class="candidateForm hidden" onsubmit="return validateForm()">
        <label for="username" class="block">Username</label>
        <input type="text" name="username" placeholder="Username" required class="w-full border-gray-300 rounded-lg px-4 py-2 mb-2">
        <label for="email" class="block">Email</label>
        <input type="email" name="email" placeholder="Email" required class="w-full border-gray-300 rounded-lg px-4 py-2 mb-2">
        <label for="password" class="block">Password</label>
        <input type="password" id="password" name="password" placeholder="Password" required class="w-full border-gray-300 rounded-lg px-4 py-2 mb-2">
        <label for="confirmPassword" class="block">Confirm Password</label>
        <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirm Password" required class="w-full border-gray-300 rounded-lg px-4 py-2 mb-2">
        <label for="contact" class="block">Contact</label>
        <input type="text" name="contact" placeholder="Contact" class="w-full border-gray-300 rounded-lg px-4 py-2 mb-2">
        <label for="organization" class="block">Organization</label>
        <input type="text" name="organization" placeholder="Organization" class="w-full border-gray-300 rounded-lg px-4 py-2 mb-2">
        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded-lg">Signup</button>
        <a href="/recruiters/login" class="block mt-2 text-blue-500">Already have an account? Login</a>
      </form>
    </div>
  
    <script>
      function toggleSignupForm() {
        var userTypeCheckbox = document.getElementById("userType");
        var recruiterForm = document.querySelector(".recruiterForm");
        var candidateForm = document.querySelector(".candidateForm");
        
        if (userTypeCheckbox.checked) {
          recruiterForm.classList.add("hidden");
          candidateForm.classList.remove("hidden");
        } else {
          recruiterForm.classList.remove("hidden");
          candidateForm.classList.add("hidden");
        }
      }
  
      function validateForm() {
        let passwd = document.getElementById("password").value;
        let confirmpasswd = document.getElementById("confirmPassword").value;
        if (passwd !== confirmpasswd) {
          alert("Password and Confirm Password do not match");
          return false;
        }
        return true;
      }
    </script>
  </body>
</html>
